TODO for sanos
--------------

- Implement refcnt on objects
    - close objects when handle count reaches zero (close_object).
    - free objects when handle count and refcnt reaches zero (free_object).

- Implement ICMP messages host unreachable, net unreachable and port unreachable

- Map network errors with winsock errors.
    - Add all winsock errors to error table
    - Add error strings to strerror()
    - Update error codes in network code
    - Map winsock errors in wsock32.c

- Move netif binding to os.c
    - Read netif parameters from [netif] in os.ini
    - Allow static configuration of ip address and dns servers

- Make ne2000 driver work with WAFER.

- Add PCI subsystem identifier to driver binding code

- Finish implementation of NDIS subsystem

- Add support for shared interrupts to driver isr handlers

- Fix bug in TCP retransmission

- Use bitmap for port number handling

- Multicast filtering support in network drivers

- Add sendmsg() and recvmsg() syscalls

- Implement mremap() and use it in heap.c for realloc() of large blocks

- Implement krealloc() in kmalloc.c

- Implement iomux kernel syncronization object
    - Add struct ioobject to object.h
    - Add struct iomux to object.h
    - Add OBJECT_IOMUX to object.h and extend all switch(object->type)
    - Replace struct object with struct ioobject in socket.h
    - Add dispatch(iomux,h,mask,context) syscall
    - Add synchronization on iomuxes...
 
 - Revalidate partition drivers after fdisk

 - Implement main entry in libc with parseargs
 
 - Handle reopening of files in smbfs after reconnect
 
IDEAS for new features
----------------------

- Simple httpd server in C for static contents (and isapi interface)

- Use type object in struct object

- String substitution in inf files
    - Replace all %key% with value in [strings] section

- Add support for select()

- DNS resolver cache

- Dynamic DNS registration

- Test sanos with Tomcat 4

- ANSI/VT100 handler in console device

- Multiple consoles (switch consoles with ALT-<num>)

- CD-ROM atapi driver

- CDFS filesystem

- DOS boot loader

- FATFS support

- Memory paging support


CHANGES
-------

- Implement /proc/uptime to display time since bootup.

- Add readline() with command line editing
    - Add command history
    - Add filename completion

- Support for .exe applications in msvcrt.dll

- Script action moved to script section in setup.exe

- Remove safety pool code in pframe.c

- Add tags to page frame database to identify memory usage
    - Add /proc/memusage

- Rename /os to /bin

